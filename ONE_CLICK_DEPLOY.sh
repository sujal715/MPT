#!/bin/bash

echo "üöÄ MPT COMPLETE DEPLOYMENT SCRIPT"
echo "=================================="
echo ""

# Check if we're in the right directory
if [ ! -f "package.json" ] || [ ! -f "pom.xml" ]; then
    echo "‚ùå Error: This script must be run from your MPT project directory"
    echo "   Make sure you have both package.json and pom.xml files"
    exit 1
fi

echo "‚úÖ Project structure verified!"
echo "‚úÖ Backend (Spring Boot) ready"
echo "‚úÖ Frontend (React) ready"
echo "‚úÖ Build files ready"
echo ""

echo "üåê DEPLOYMENT INSTRUCTIONS:"
echo "============================"
echo ""
echo "1. OPEN RENDER DASHBOARD:"
echo "   https://dashboard.render.com"
echo ""
echo "2. DEPLOY BACKEND:"
echo "   - Click 'New +' ‚Üí 'Web Service'"
echo "   - Connect GitHub repo: mp"
echo "   - Name: mp-backend"
echo "   - Environment: Java"
echo "   - Build: ./mvnw clean package -DskipTests"
echo "   - Start: java -jar target/mpt-0.0.1-SNAPSHOT.jar"
echo ""
echo "3. DEPLOY FRONTEND:"
echo "   - Click 'New +' ‚Üí 'Static Site'"
echo "   - Connect GitHub repo: mp"
echo "   - Name: mp-frontend"
echo "   - Build: npm install && npm run build"
echo "   - Publish: build"
echo "   - Add env var: REACT_APP_API_URL = [BACKEND_URL]"
echo ""

echo "üìã QUICK CHECKLIST:"
echo "==================="
echo "‚ñ° Backend deployed and running"
echo "‚ñ° Frontend deployed and running"
echo "‚ñ° Frontend connects to backend"
echo "‚ñ° Test all pages work"
echo ""

echo "üéØ EXPECTED RESULT:"
echo "==================="
echo "Backend:  https://mp-backend.onrender.com"
echo "Frontend: https://mp-frontend.onrender.com"
echo ""

echo "üîí PRIVACY:"
echo "==========="
echo "‚úÖ Source code stays in your private GitHub repo"
echo "‚úÖ Render only sees built files"
echo "‚úÖ Complete privacy maintained"
echo ""

echo "üöÄ READY TO DEPLOY!"
echo "==================="
echo "Follow the instructions above and you'll have your"
echo "complete MPT application live on Render!"
echo ""
echo "Need help? Check the detailed guides I created:"
echo "- STEP_BY_STEP_DEPLOYMENT.md"
echo "- DEPLOYMENT_CHECKLIST.md"
